import{_ as g,c as a,a as l,w as u,F as i,r as p,v as c,b as h,e as d,o,t}from"./index-BI2CHZ53.js";const f={name:"Almacen",data(){return{almacenes:[],sucursales:[],almacen:{nombre:"",codigo:"",descripcion:"",sucursal_id:null}}},mounted(){this.fetchAlmacenes(),this.fetchSucursales()},methods:{agregarSucursal(){d.post("http://143.198.70.37:8000/api/almacenes",this.almacen).then(n=>{this.fetchAlmacenes()}).catch(n=>{alert(n.response.data.message||"Error adding almacen")})},async fetchSucursales(){try{const n=await d.get("http://143.198.70.37:8000/api/sucursales");this.sucursales=n.data}catch(n){console.error("Error fetching sucursales:",n)}},async fetchAlmacenes(){try{const n=await d.get("http://143.198.70.37:8000/api/almacenes");this.almacenes=n.data}catch(n){console.error("Error fetching almacenes:",n)}}}},b=["value"];function S(n,r,A,y,s,m){return o(),a(i,null,[r[6]||(r[6]=l("h1",null,"Almacenes",-1)),l("table",null,[r[5]||(r[5]=l("tr",null,[l("th",null,"ID"),l("th",null,"Nombre"),l("th",null,"C贸digo"),l("th",null,"Descripci贸n"),l("th",null,"Sucursal ID")],-1)),(o(!0),a(i,null,p(s.almacenes,e=>(o(),a("tr",{key:e.id},[l("td",null,t(e.id),1),l("td",null,t(e.nombre),1),l("td",null,t(e.codigo),1),l("td",null,t(e.descripcion),1),l("td",null,t(e.sucursal_id),1)]))),128))]),r[7]||(r[7]=l("hr",null,null,-1)),r[8]||(r[8]=l("label",null,"Agregar almacen:",-1)),u(l("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>s.almacen.nombre=e),placeholder:"Nombre"},null,512),[[c,s.almacen.nombre]]),u(l("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>s.almacen.codigo=e),placeholder:"C贸digo"},null,512),[[c,s.almacen.codigo]]),u(l("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>s.almacen.descripcion=e),placeholder:"Descripci贸n"},null,512),[[c,s.almacen.descripcion]]),u(l("select",{"onUpdate:modelValue":r[3]||(r[3]=e=>s.almacen.sucursal_id=e)},[(o(!0),a(i,null,p(s.sucursales,e=>(o(),a("option",{key:e.id,value:e.id},t(e.nombre),9,b))),128))],512),[[h,s.almacen.sucursal_id]]),l("button",{onClick:r[4]||(r[4]=(...e)=>m.agregarSucursal&&m.agregarSucursal(...e))},"Agregar Sucursal")],64)}const D=g(f,[["render",S]]);export{D as default};
