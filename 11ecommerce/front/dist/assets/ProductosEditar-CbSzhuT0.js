import{_ as c,c as u,a as r,w as d,v as a,b as m,F as s,r as g,d as b,e as p,o as l,t as v}from"./index-BI2CHZ53.js";const f={name:"ProductosEditar",data(){return{producto:{nombre:"",descripcion:"",codigo_barra:"",unidad_medida:"",marca:"",precio_venta_actual:0,imagen:"",activo:!0,categoria_id:null},categorias:[]}},mounted(){this.categoriasGet(),this.productoGet()},methods:{productoGet(){p.get(`http://143.198.70.37:8000/api/productos/${this.$route.params.id}`).then(t=>{this.producto=t.data}).catch(t=>{console.error("Error fetching product:",t)})},handleFileUpload(t){const o=t.target.files[0];this.producto.imagen=o},async categoriasGet(){p.get("http://143.198.70.37:8000/api/categorias").then(t=>{this.categorias=t.data}).catch(t=>{console.error("Error fetching categories:",t)})},productoEditar(){const t=new FormData;t.append("nombre",this.producto.nombre),t.append("descripcion",this.producto.descripcion),t.append("codigo_barra",this.producto.codigo_barra),t.append("unidad_medida",this.producto.unidad_medida),t.append("marca",this.producto.marca),t.append("precio_venta_actual",this.producto.precio_venta_actual),t.append("imagen",this.producto.imagen),t.append("activo",this.producto.activo?1:0),t.append("categoria_id",this.producto.categoria_id),p.post(`http://143.198.70.37:8000/api/productos/${this.$route.params.id}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log("Producto editado:",o.data),this.producto={nombre:"",descripcion:"",codigo_barra:"",unidad_medida:"",marca:"",precio_venta_actual:0,imagen:"",activo:!0,categoria_id:null},this.$router.push("/productos")}).catch(o=>{console.error("Error creating product:",o)})}}},y=["value"];function x(t,o,U,E,i,n){return l(),u(s,null,[o[19]||(o[19]=r("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"}},[r("span",{style:{"font-size":"1.5rem","font-weight":"bold"}},"Crear Productos")],-1)),o[20]||(o[20]=r("p",null,"Formulario para crear un nuevo producto:",-1)),r("form",{onSubmit:o[8]||(o[8]=b((...e)=>n.productoEditar&&n.productoEditar(...e),["prevent"]))},[r("div",null,[o[9]||(o[9]=r("label",{for:"nombre"},"Nombre:",-1)),d(r("input",{type:"text",id:"nombre","onUpdate:modelValue":o[0]||(o[0]=e=>i.producto.nombre=e),required:""},null,512),[[a,i.producto.nombre]])]),r("div",null,[o[10]||(o[10]=r("label",{for:"descripcion"},"Descripción:",-1)),d(r("textarea",{id:"descripcion","onUpdate:modelValue":o[1]||(o[1]=e=>i.producto.descripcion=e),required:""},null,512),[[a,i.producto.descripcion]])]),r("div",null,[o[11]||(o[11]=r("label",{for:"codigo_barra"},"Código de Barra:",-1)),d(r("input",{type:"text",id:"codigo_barra","onUpdate:modelValue":o[2]||(o[2]=e=>i.producto.codigo_barra=e),required:""},null,512),[[a,i.producto.codigo_barra]])]),r("div",null,[o[12]||(o[12]=r("label",{for:"unidad_medida"},"Unidad de Medida:",-1)),d(r("input",{type:"text",id:"unidad_medida","onUpdate:modelValue":o[3]||(o[3]=e=>i.producto.unidad_medida=e),required:""},null,512),[[a,i.producto.unidad_medida]])]),r("div",null,[o[13]||(o[13]=r("label",{for:"marca"},"Marca:",-1)),d(r("input",{type:"text",id:"marca","onUpdate:modelValue":o[4]||(o[4]=e=>i.producto.marca=e),required:""},null,512),[[a,i.producto.marca]])]),r("div",null,[o[14]||(o[14]=r("label",{for:"precio_venta_actual"},"Precio de Venta Actual:",-1)),d(r("input",{type:"number",id:"precio_venta_actual","onUpdate:modelValue":o[5]||(o[5]=e=>i.producto.precio_venta_actual=e),step:"0.01",required:""},null,512),[[a,i.producto.precio_venta_actual]])]),r("div",null,[o[15]||(o[15]=r("label",{for:"imagen"},"Imagen:",-1)),r("input",{type:"file",id:"imagen",onChange:o[6]||(o[6]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),accept:"image/*"},null,32)]),r("div",null,[o[17]||(o[17]=r("label",{for:"categoria_id"},"Categoría:",-1)),d(r("select",{id:"categoria_id","onUpdate:modelValue":o[7]||(o[7]=e=>i.producto.categoria_id=e),required:""},[o[16]||(o[16]=r("option",{disabled:"",value:""},"Seleccione una categoría",-1)),(l(!0),u(s,null,g(i.categorias,e=>(l(),u("option",{key:e.id,value:e.id},v(e.nombre),9,y))),128))],512),[[m,i.producto.categoria_id]])]),o[18]||(o[18]=r("button",{type:"submit"},"Crear Producto",-1))],32)],64)}const _=c(f,[["render",x]]);export{_ as default};
