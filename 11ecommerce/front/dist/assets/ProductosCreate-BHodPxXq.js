import{_ as g,c as a,a as o,w as l,v as n,b,F as s,r as f,d as m,e as u,o as p,t as v}from"./index-BI2CHZ53.js";const y={name:"ProductosCreate",data(){return{producto:{nombre:"",descripcion:"",codigo_barra:"",unidad_medida:"",marca:"",precio_venta_actual:0,imagen:"",activo:!0,categoria_id:null},categorias:[],categoria:{nombre:"",descripcion:""}}},mounted(){this.categoriasGet()},methods:{crearCategoria(){u.post("http://143.198.70.37:8000/api/categorias",this.categoria).then(i=>{console.log("Categoría creada:",i.data),this.categoria.nombre="",this.categoria.descripcion="",this.categoriasGet()}).catch(i=>{console.error("Error creando categoría:",i)})},handleFileUpload(i){const r=i.target.files[0];this.producto.imagen=r},async categoriasGet(){u.get("http://143.198.70.37:8000/api/categorias").then(i=>{this.categorias=i.data}).catch(i=>{console.error("Error fetching categories:",i)})},crearProducto(){const i=new FormData;for(const r in this.producto)i.append(r,this.producto[r]);i.append("imagen",this.producto.imagen),u.post("http://143.198.70.37:8000/api/productos",i,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{console.log("Producto creado:",r.data),this.$router.push("/productos")}).catch(r=>{console.error("Error creando producto:",r)})}}},C=["value"];function c(i,r,x,U,t,d){return p(),a(s,null,[r[33]||(r[33]=o("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"}},[o("span",{style:{"font-size":"1.5rem","font-weight":"bold"}},"Crear Productos")],-1)),r[34]||(r[34]=o("p",null,"Formulario para crear un nuevo producto:",-1)),o("form",{onSubmit:r[11]||(r[11]=m((...e)=>d.crearProducto&&d.crearProducto(...e),["prevent"]))},[o("div",null,[r[12]||(r[12]=o("label",{for:"nombre"},"Nombre:",-1)),l(o("input",{type:"text",id:"nombre","onUpdate:modelValue":r[0]||(r[0]=e=>t.producto.nombre=e),required:""},null,512),[[n,t.producto.nombre]])]),o("div",null,[r[13]||(r[13]=o("label",{for:"descripcion"},"Descripción:",-1)),l(o("textarea",{id:"descripcion","onUpdate:modelValue":r[1]||(r[1]=e=>t.producto.descripcion=e),required:""},null,512),[[n,t.producto.descripcion]])]),o("div",null,[r[14]||(r[14]=o("label",{for:"codigo_barra"},"Código de Barra:",-1)),l(o("input",{type:"text",id:"codigo_barra","onUpdate:modelValue":r[2]||(r[2]=e=>t.producto.codigo_barra=e),required:""},null,512),[[n,t.producto.codigo_barra]])]),o("div",null,[r[15]||(r[15]=o("label",{for:"unidad_medida"},"Unidad de Medida:",-1)),l(o("input",{type:"text",id:"unidad_medida","onUpdate:modelValue":r[3]||(r[3]=e=>t.producto.unidad_medida=e),required:""},null,512),[[n,t.producto.unidad_medida]])]),o("div",null,[r[16]||(r[16]=o("label",{for:"marca"},"Marca:",-1)),l(o("input",{type:"text",id:"marca","onUpdate:modelValue":r[4]||(r[4]=e=>t.producto.marca=e),required:""},null,512),[[n,t.producto.marca]])]),o("div",null,[r[17]||(r[17]=o("label",{for:"precio_venta_actual"},"Precio de Venta Actual:",-1)),l(o("input",{type:"number",id:"precio_venta_actual","onUpdate:modelValue":r[5]||(r[5]=e=>t.producto.precio_venta_actual=e),required:""},null,512),[[n,t.producto.precio_venta_actual]])]),o("div",null,[r[18]||(r[18]=o("label",{for:"imagen"},"Imagen:",-1)),o("input",{type:"file",id:"imagen",onChange:r[6]||(r[6]=(...e)=>d.handleFileUpload&&d.handleFileUpload(...e)),required:"",accept:"image/*"},null,32)]),o("div",null,[r[20]||(r[20]=o("label",{for:"categoria_id"},"Categoría:",-1)),l(o("select",{id:"categoria_id","onUpdate:modelValue":r[7]||(r[7]=e=>t.producto.categoria_id=e),required:""},[r[19]||(r[19]=o("option",{disabled:"",value:""},"Seleccione una categoría",-1)),(p(!0),a(s,null,f(t.categorias,e=>(p(),a("option",{key:e.id,value:e.id},v(e.nombre),9,C))),128))],512),[[b,t.producto.categoria_id]])]),r[24]||(r[24]=o("button",{type:"submit"},"Crear Producto",-1)),r[25]||(r[25]=o("br",null,null,-1)),r[26]||(r[26]=o("br",null,null,-1)),r[27]||(r[27]=o("br",null,null,-1)),r[28]||(r[28]=o("br",null,null,-1)),r[29]||(r[29]=o("br",null,null,-1)),r[30]||(r[30]=o("br",null,null,-1)),r[31]||(r[31]=o("br",null,null,-1)),r[32]||(r[32]=o("h2",null,"Crear Categoria",-1)),o("form",{onSubmit:r[10]||(r[10]=m((...e)=>d.crearCategoria&&d.crearCategoria(...e),["prevent"]))},[o("div",null,[r[21]||(r[21]=o("label",{for:"nombre`"},"Nombre de la Categoría:",-1)),l(o("input",{type:"text",id:"nombre`","onUpdate:modelValue":r[8]||(r[8]=e=>t.categoria.nombre=e),required:""},null,512),[[n,t.categoria.nombre]])]),o("div",null,[r[22]||(r[22]=o("label",{for:"descripcion`"},"Descripción de la Categoría:",-1)),l(o("textarea",{id:"descripcion`","onUpdate:modelValue":r[9]||(r[9]=e=>t.categoria.descripcion=e),required:""},null,512),[[n,t.categoria.descripcion]])]),r[23]||(r[23]=o("button",{type:"submit"},"Crear Categoría",-1))],32)],32)],64)}const q=g(y,[["render",c]]);export{q as default};
